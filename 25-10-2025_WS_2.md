ğŸ’¡ CÃ¡c hÆ°á»›ng tÃ­ch há»£p cá»¥ thá»ƒ
1ï¸âƒ£ TÄƒng cÆ°á»ng kháº£ nÄƒng hiá»ƒu vÃ  tráº£ lá»i (RAG)

MÃ´ táº£: Táº¡o má»™t vector store chá»©a dá»¯ liá»‡u du lá»‹ch Viá»‡t Nam (mÃ´ táº£ thÃ nh phá»‘, Ä‘á»‹a danh, áº©m thá»±c, lá»… há»™iâ€¦).

Ãp dá»¥ng: Khi ngÆ°á»i dÃ¹ng há»i, báº¡n:

Embed cÃ¢u há»i (OpenAIEmbeddings hoáº·c text-embedding-3-small),

Truy váº¥n top-5 Ä‘oáº¡n vÄƒn liÃªn quan trong ChromaDB,

Truyá»n cÃ¡c Ä‘oáº¡n Ä‘Ã³ vÃ o messages trÆ°á»›c khi gá»­i Ä‘áº¿n GPT.

Káº¿t quáº£: Chatbot sáº½ cÃ³ kiáº¿n thá»©c â€œná»™i bá»™â€ vá» du lá»‹ch mÃ  khÃ´ng cáº§n GPT tráº£ lá»i mÆ¡ há»“.

VÃ­ dá»¥

from chromadb import Client
from openai import OpenAI

chroma = Client()
collection = chroma.get_or_create_collection("vietnam_travel")

# Khi ngÆ°á»i dÃ¹ng há»i:
query_embedding = client.embeddings.create(
    model="text-embedding-3-small",
    input=user_input
).data[0].embedding

results = collection.query(
    query_embeddings=[query_embedding],
    n_results=3
)
context = "\n".join([doc["text"] for doc in results["documents"]])


Sau Ä‘Ã³ chÃ¨n context vÃ o prompt Ä‘á»ƒ GPT tráº£ lá»i tá»‘t hÆ¡n.

2ï¸âƒ£ Nhá»› lá»‹ch sá»­ há»™i thoáº¡i dÃ i háº¡n

MÃ´ táº£: Thay vÃ¬ chá»‰ lÆ°u vÃ o SQLite, báº¡n cÃ³ thá»ƒ lÆ°u embedding tá»«ng cÃ¢u há»i/tráº£ lá»i vÃ o ChromaDB.

á»¨ng dá»¥ng:

Khi ngÆ°á»i dÃ¹ng quay láº¡i sau (hoáº·c má»Ÿ session má»›i), báº¡n truy váº¥n báº±ng embedding Ä‘á»ƒ â€œgá»£i láº¡iâ€ chá»§ Ä‘á» há» tá»«ng nÃ³i.

CÃ³ thá»ƒ táº¡o má»¥c â€œğŸ§  Nhá»› cÃ¡c chuyáº¿n Ä‘i gáº§n Ä‘Ã¢yâ€.

VÃ­ dá»¥:

collection = chroma.get_or_create_collection("chat_memory")
collection.add(
    documents=[user_input],
    metadatas={"city": city_guess, "timestamp": datetime.now().isoformat()},
    ids=[f"chat_{time.time()}"]
)

3ï¸âƒ£ TÃ¬m kiáº¿m / tra cá»©u theo ná»™i dung (Semantic Search)

á»¨ng dá»¥ng: Táº¡o má»¥c â€œKhÃ¡m phÃ¡ Ä‘á»‹a Ä‘iá»ƒm ná»•i báº­tâ€ hoáº·c â€œGá»£i Ã½ tÆ°Æ¡ng tá»±â€.
VÃ­ dá»¥:

Khi ngÆ°á»i dÃ¹ng há»i â€œnÆ¡i nÃ o giá»‘ng ÄÃ  Láº¡t?â€, truy váº¥n trong vector DB Ä‘á»ƒ tÃ¬m thÃ nh phá»‘ cÃ³ embedding gáº§n nháº¥t vá»›i ÄÃ  Láº¡t (khÃ­ háº­u, phong cáº£nh tÆ°Æ¡ng tá»±).

Khi há»i â€œáº©m thá»±c giá»‘ng Huáº¿â€, báº¡n cÃ³ thá»ƒ tráº£ vá» danh sÃ¡ch thÃ nh phá»‘ cÃ³ mÃ³n Äƒn tÆ°Æ¡ng tá»± (theo embedding mÃ´ táº£ áº©m thá»±c).

Dá»¯ liá»‡u nguá»“n: CSV Ä‘á»‹a Ä‘iá»ƒm, mÃ´ táº£ du lá»‹ch, mÃ³n Äƒn â†’ nhÃºng vÃ o vector DB.

4ï¸âƒ£ PhÃ¢n loáº¡i Ã½ Ä‘á»‹nh (Intent Clustering)

ChromaDB cÃ³ thá»ƒ lÆ°u embedding cÃ¡c cÃ¢u há»i phá»• biáº¿n â†’ dÃ¹ng query Ä‘á»ƒ tÃ¬m intent gáº§n nháº¥t, há»— trá»£ pháº£n há»“i nhanh (thay vÃ¬ luÃ´n gá»i GPT).

VÃ­ dá»¥:

CÃ¢u há»i ngÆ°á»i dÃ¹ng: â€œThá»i tiáº¿t á»Ÿ Huáº¿ tuáº§n tá»›i?â€

Truy váº¥n ChromaDB â†’ tÃ¬m tháº¥y intent â€œweather_queryâ€ â†’ gá»i hÃ m get_weather_forecast trá»±c tiáº¿p, khÃ´ng cáº§n GPT.

5ï¸âƒ£ Gá»£i Ã½ thÃ´ng minh (Recommendation Engine)

Káº¿t há»£p vá»›i dá»¯ liá»‡u user logs (travel_chatbot_logs.db), báº¡n cÃ³ thá»ƒ:

LÆ°u embedding cÃ¡c chuyáº¿n Ä‘i (city + style + dates)

TÃ¬m â€œchuyáº¿n Ä‘i tÆ°Æ¡ng tá»±â€ mÃ  ngÆ°á»i khÃ¡c tá»«ng há»i

Gá»£i Ã½: â€œNgÆ°á»i khÃ¡c tá»«ng há»i vá» Huáº¿ cÅ©ng quan tÃ¢m Ä‘áº¿n Há»™i An ğŸŒ¸â€

âš™ï¸ HÆ°á»›ng triá»ƒn khai khuyáº¿n nghá»‹
Má»¥c tiÃªu	Má»©c Ä‘á»™	Gá»£i Ã½ triá»ƒn khai
RAG Knowledge Base	ğŸ”¥ Æ¯u tiÃªn cao	Táº¡o collection travel_docs, lÆ°u dá»¯ liá»‡u Ä‘á»‹a danh, mÃ³n Äƒn, sá»± kiá»‡n tá»« CSV
Memory (Lá»‹ch sá»­)	Trung bÃ¬nh	LÆ°u embedding há»™i thoáº¡i Ä‘á»ƒ gá»£i láº¡i context
Intent Classification	Trung bÃ¬nh	LÆ°u vÃ i trÄƒm máº«u cÃ¢u, gÃ¡n nhÃ£n intent, truy váº¥n gáº§n nháº¥t
Recommendation Engine	NÃ¢ng cao	Gá»£i Ã½ tÆ°Æ¡ng tá»± tá»« logs embedding
Search UI má»Ÿ rá»™ng	TÃ¹y chá»n	ThÃªm â€œğŸ” TÃ¬m kiáº¿m theo ná»™i dungâ€ dÃ¹ng Chroma